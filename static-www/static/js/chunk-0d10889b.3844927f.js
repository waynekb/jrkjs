(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d10889b"],{"06f9":function(e,t,l){"use strict";l("0d15")},"0d15":function(e,t,l){},"2cfb":function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-tooltip",[l("template",{slot:"content"},[l("span",[e._v("点击链接选择成员")]),e._v(" "),l("span",{staticStyle:{cursor:"pointer"},on:{click:e.clearSelect}},[e._v("清空")])]),e._v(" "),l("el-link",{attrs:{type:"info"},on:{click:function(t){e.dialogVisible=!0}}},[l("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:[e.code?"active":"inactive"],on:{mouseenter:function(t){e.forgetHasShow=!0}}},[e._v(e._s(e.userRealName?e.userRealName:e.defaultInfo+" "+(e.code?e.code:"")))])])],2),e._v(" "),e.forgetHasShow?l("el-dialog",{attrs:{title:"搜索成员",visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("div",[l("el-tooltip",{attrs:{content:"选择后所有的成员选择器都将在选中人员后被关闭"}},[l("el-switch",{attrs:{"active-text":"全局选择后关闭"},model:{value:e.closeOnSelectGlobal,callback:function(t){e.closeOnSelectGlobal=t},expression:"closeOnSelectGlobal"}})],1),e._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"1rem"},attrs:{content:e.current_selector_autoclose_desc}},[l("el-switch",{attrs:{disabled:!e.selectName,"active-text":"此位置选择后关闭"},model:{value:e.closeOnSelectCurrent,callback:function(t){e.closeOnSelectCurrent=t},expression:"closeOnSelectCurrent"}})],1)],1),e._v(" "),l("el-divider"),e._v(" "),l("FindUserByRealName",{attrs:{avatar:e.avatar,"select-name":e.selectName},on:{"update:avatar":function(t){e.avatar=t},change:e.selectUserChanged},model:{value:e.nowUserCode,callback:function(t){e.nowUserCode=t},expression:"nowUserCode"}})],1):e._e()],1)},o=[],a=l("211b"),c={name:"UserSelector",components:{FindUserByRealName:function(){return l.e("chunk-2d0b214a").then(l.bind(null,"231d"))}},model:{prop:"code",event:"change"},props:{code:{type:String,default:null},defaultInfo:{type:String,default:"搜索成员"},placeholder:{type:String,default:null},selectName:{type:String,default:null}},data:function(){return{loading:!1,forgetHasShow:!1,dialogVisible:!1,userRealName:null,avatar:null,icloseOnSelectGlobal:!1,icloseOnSelectCurrent:!1}},computed:{closeOnSelectGlobal:{get:function(){return this.icloseOnSelectGlobal},set:function(e){this.icloseOnSelectGlobal=e,localStorage.setItem("selector.global",e)}},closeOnSelectCurrent:{get:function(){return this.icloseOnSelectCurrent},set:function(e){this.icloseOnSelectCurrent=e,localStorage.setItem("selector.".concat(this.selectName),e)}},current_selector_autoclose_desc:function(){var e=this.selectName;return e?"选择后仅【".concat(e,"】位置的成员选择器将在选中人员后被关闭"):"当前选择器不支持局部选取"},nowUserCode:{get:function(){return this.code},set:function(e){this.$emit("update:code",e)}}},watch:{avatar:{handler:function(e){this.$emit("update:avatar",e)}},nowUserCode:{handler:function(e){e&&this.loadUserName()}}},mounted:function(){this.icloseOnSelectGlobal=JSON.parse(localStorage.getItem("selector.global")),this.icloseOnSelectCurrent=JSON.parse(localStorage.getItem("selector.".concat(this.selectName)))},methods:{setDialog:function(e){this.dialogVisible=e},clearSelect:function(){this.userRealName=null,this.nowUserCode=null,this.$emit("change",null)},selectUserChanged:function(e){e&&(this.userRealName="".concat(e.realName,"(").concat(e.id,")"),(this.closeOnSelectCurrent||this.closeOnSelectGlobal)&&this.setDialog(!1)),this.nowUserCode=e.id,this.$emit("change",e)},loadUserName:function(){var e=this;!this.userRealName&&this.nowUserCode&&(this.loading=!0,Object(a["c"])(this.nowUserCode).then((function(t){e.$nextTick((function(){e.userRealName=t.base.realName}))})).finally((function(){e.loading=!1})))}}},s=c,i=(l("06f9"),l("2877")),r=Object(i["a"])(s,n,o,!1,null,"5f0ca256",null);t["default"]=r.exports}}]);