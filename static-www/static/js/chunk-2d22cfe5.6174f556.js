(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22cfe5"],{f632:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],scopedSlots:e._u([{key:"header",fn:function(){return[o("span",[o("span",[e._v("刷题设置")]),e._v(" "),o("BtnActivatable",{staticStyle:{"font-size":"0.5rem"},attrs:{placeholder:"更新设置（更改设置将重新加载题目）","can-refresh":e.is_modified},on:{click:e.apply_options}})],1)]},proxy:!0}])},[e._v(" "),e.options?o("el-form",{attrs:{"label-width":"5rem",inline:""}},[o("el-form-item",{attrs:{label:"刷题模式"}},[o("el-tooltip",{attrs:{content:"刷题模式将无需填入答案，直接选会或不会即可，更高效"}},[o("el-switch",{model:{value:e.options.practice_mode,callback:function(t){e.$set(e.options,"practice_mode",t)},expression:"options.practice_mode"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"斩杀模式"}},[o("el-tooltip",{attrs:{content:"每做完一题，该题将被隐藏"}},[o("el-switch",{model:{value:e.options.kill_problem,callback:function(t){e.$set(e.options,"kill_problem",t)},expression:"options.kill_problem"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"开启全选"}},[o("el-tooltip",{attrs:{content:"选择题提供一键全选按钮"}},[o("el-switch",{model:{value:e.options.enable_select_all,callback:function(t){e.$set(e.options,"enable_select_all",t)},expression:"options.enable_select_all"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"随机题序"}},[o("el-tooltip",{attrs:{content:"将题目的顺序打乱"}},[o("el-switch",{model:{value:e.options.shuffle_problem,callback:function(t){e.$set(e.options,"shuffle_problem",t)},expression:"options.shuffle_problem"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"随机选项"}},[o("el-tooltip",{attrs:{content:"将题目的每个待选项打乱"}},[o("el-switch",{model:{value:e.options.shuffle_problem_options,callback:function(t){e.$set(e.options,"shuffle_problem_options",t)},expression:"options.shuffle_problem_options"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"做新题"}},[o("el-tooltip",{attrs:{content:"只做没做过的题"}},[o("el-switch",{model:{value:e.options.new_problem,callback:function(t){e.$set(e.options,"new_problem",t)},expression:"options.new_problem"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"急速过题"}},[o("el-tooltip",{attrs:{content:"题做对了就不显示题解，直接下一题"}},[o("el-switch",{model:{value:e.options.lighting_mode,callback:function(t){e.$set(e.options,"lighting_mode",t)},expression:"options.lighting_mode"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"筛选连对"}},[o("el-tooltip",{attrs:{content:"只做连对次数少于该次数的题"}},[o("el-input-number",{model:{value:e.options.combo_problem,callback:function(t){e.$set(e.options,"combo_problem",t)},expression:"options.combo_problem"}})],1)],1)],1):e._e(),e._v(" "),o("div",{staticStyle:{display:"flex","align-items":"center"}},[o("el-card",{staticStyle:{width:"100%"},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("题库范围选取(共"+e._s(e.problems&&e.problems.length||0)+"题)")])]},proxy:!0}])},[e._v(" "),o("el-tooltip",{attrs:{content:"本次训练的题目范围"}},[o("div",[o("div",[o("span",[e._v("从")]),e._v(" "),o("el-input-number",{staticStyle:{width:"40%"},attrs:{size:"mini",min:1,max:e.options.problem_range_end},model:{value:e.options.problem_range_start,callback:function(t){e.$set(e.options,"problem_range_start",t)},expression:"options.problem_range_start"}}),e._v(" "),o("span",[e._v("到")]),e._v(" "),o("el-input-number",{staticStyle:{width:"40%"},attrs:{size:"mini",min:e.options.problem_range_start},model:{value:e.options.problem_range_end,callback:function(t){e.$set(e.options,"problem_range_end",t)},expression:"options.problem_range_end"}})],1),e._v(" "),o("div",[o("span",[e._v("共选中题数(0表示全选)")]),e._v(" "),o("el-input-number",{staticStyle:{width:"40%"},attrs:{size:"mini",max:e.options.problem_range_end-e.options.problem_range_start+1},model:{value:e.options.problem_max_num,callback:function(t){e.$set(e.options,"problem_max_num",t)},expression:"options.problem_max_num"}})],1)])]),e._v(" "),o("el-tooltip",{attrs:{content:"页面上只显示有限题（当前题目向前和向后X个题）以降低性能消耗"}},[o("div",[o("span",[e._v("显示题数量")]),e._v(" "),o("el-input-number",{attrs:{size:"mini"},model:{value:e.options.show_max_problem_range,callback:function(t){e.$set(e.options,"show_max_problem_range",t)},expression:"options.show_max_problem_range"}})],1)])],1)],1)],1)},l=[],i=o("05f3"),s="train_options",a={name:"TrainOptions",components:{BtnActivatable:function(){return o.e("chunk-3123fe3e").then(o.bind(null,"edfd"))}},model:{event:"change",prop:"data"},props:{database:{type:String,default:null},problems:{type:Array,default:null}},data:function(){return{loading:!1,is_modified:null,options:{practice_mode:!0,kill_problem:!0,enable_select_all:!1,problem_range_start:0,problem_range_end:0,problem_max_num:0,new_problem:!1,lighting_mode:!1,shuffle_problem:!1,shuffle_problem_options:!1,combo_problem:3,show_max_problem_range:3}}},watch:{database:{handler:function(e){this.refresh()},immediate:!0},options:{handler:function(e){null!==this.is_modified&&(this.is_modified=!0)},deep:!0}},methods:{apply_options:function(){var e=this;this.loading=!0;var t=this.options,o=this.database;i["a"].user_database_detail({name:o,key:s,val:t}).then((function(o){t&&e.$store.dispatch("problems/update_database"),e.$emit("change",t),e.is_modified=!1})).finally((function(){e.loading=!1}))},refresh:function(){var e=this,t=this.database;t&&(this.loading=!0,i["a"].user_database_detail({name:t}).then((function(t){var o=t&&t[s];if(setTimeout((function(){e.is_modified=!1}),500),!o)return e.$message.success("这似乎是您首次刷这个题库诶~看看设置一下"),void e.apply_options();console.log("user_database_detail",o),e.options=Object.assign(e.options,o)})).finally((function(){e.loading=!1})))}}},r=a,p=o("2877"),m=Object(p["a"])(r,n,l,!1,null,null,null);t["default"]=m.exports}}]);