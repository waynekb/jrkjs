(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb0d854e"],{a6ce:function(n,e,t){"use strict";t("c384")},bf45:function(n,e,t){"use strict";t.r(e);var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-popover",{attrs:{show:n.innerUserCardShow,placement:"bottom-end",trigger:"click"},on:{"update:show":function(e){n.innerUserCardShow=e},show:function(e){return n.userCardShowing(!0)},hide:function(e){return n.userCardShowing(!1)}}},[!n.hasLogin&&n.loginFormHasShow?t("div",[t("el-dialog",{attrs:{visible:n.innerUserCardShow,width:"80%","append-to-body":""},on:{"update:visible":function(e){n.innerUserCardShow=e}}},[t("Login")],1)],1):t("div",{staticStyle:{width:"250px"}},[t("UserSummary",{attrs:{showout:n.userCardIsShowing,data:n.currentUser.data,avatar:n.currentUser.avatar}}),n._v(" "),t("div",{staticClass:"menu-divider"}),n._v(" "),t("el-menu",{staticStyle:{"border-right":"none"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:function(e){return n.$router.push("/user/profile")}}},[t("SvgIcon",{attrs:{"icon-class":"namecard"}}),n._v(" "),t("span",[n._v("个人信息")])],1),n._v(" "),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("SvgIcon",{attrs:{"icon-class":"principal"}}),n._v(" "),t("span",[n._v("账号")])],1),n._v(" "),t("el-menu-item",{attrs:{index:"1"},on:{click:function(e){return n.$router.push("/forget")}}},[t("SvgIcon",{attrs:{"icon-class":"namecard"}}),n._v(" "),t("span",[n._v("找回账号/密码")])],1),n._v(" "),t("el-menu-item",{attrs:{index:"2"},on:{click:function(e){n.isToShowPasswordModifier=!0}}},[t("SvgIcon",{attrs:{"icon-class":"scan_namecard"}}),n._v(" "),t("span",[n._v("修改密码")])],1),n._v(" "),t("el-menu-item",{attrs:{index:"3"},on:{click:function(e){return n.handleReg(!1)}}},[t("SvgIcon",{attrs:{"icon-class":"newapplication_"}}),n._v(" "),t("span",[n._v("用户列表")])],1),n._v(" "),t("el-menu-item",{attrs:{index:"4"},on:{click:function(e){return n.handleReg(!0)}}},[t("SvgIcon",{attrs:{"icon-class":"newapplication_"}}),n._v(" "),t("span",[n._v("注册新账号")])],1)],2),n._v(" "),t("el-menu-item",{on:{click:n.switch_account}},[t("SvgIcon",{attrs:{"icon-class":"switch"}}),n._v(" "),t("span",[n._v("切换账号")])],1),n._v(" "),t("el-menu-item",{on:{click:n.logout}},[t("SvgIcon",{attrs:{"icon-class":"dengchu"}}),n._v(" "),t("span",[n._v("退出")])],1)],1)],1),n._v(" "),t("div",{staticClass:"avatar-container right-menu-item",attrs:{slot:"reference"},on:{click:function(e){n.innerUserCardShow=!n.innerUserCardShow}},slot:"reference"},[t("el-image",{staticClass:"user-avatar",style:{transform:n.userCardIsShowing?"scale(0)":""},attrs:{src:n.avatar}}),n._v(" "),t("div",{staticClass:"right-menu-item"})],1),n._v(" "),t("el-dialog",{attrs:{title:"修改密码",modal:!1,visible:n.isToShowPasswordModifier,width:"500px"},on:{"update:visible":function(e){n.isToShowPasswordModifier=e}}},[t("ResetPassword",{ref:"resetPassword"})],1)],1)},s=[],i=(t("96cf"),t("1da1")),o={name:"UserPannel",components:{SvgIcon:function(){return Promise.resolve().then(t.bind(null,"c00a"))},UserSummary:function(){return t.e("chunk-996b9006").then(t.bind(null,"191f"))},Login:function(){return t.e("chunk-cd4b7b7e").then(t.bind(null,"9ed6"))},ResetPassword:function(){return t.e("chunk-71c1fde0").then(t.bind(null,"c6f5"))}},props:{userCardShow:{type:Boolean,default:!1}},data:function(){return{loginFormHasShow:!1,userCardIsShowing:!1,isToShowPasswordModifier:!1}},computed:{innerUserCardShow:{get:function(){return this.userCardShow},set:function(n){this.$emit("update:userCardShow",n)}},avatar:function(){return this.currentUser.avatar},hasLogin:function(){return!!this.currentUser.userid},isUserLogout:function(){return this.currentUser.isUserLogout},currentUser:function(){return this.$store.state.user}},watch:{hasLogin:{handler:function(n){n&&this.hdlLogin(!0)}}},mounted:function(){var n=this;setTimeout((function(){n.hasLogin||n.isUserLogout||(n.innerUserCardShow=!0)}),500)},methods:{logout:function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return this.loading=!0,n.next=3,this.$store.dispatch("user/logout");case 3:this.loading=!1,this.$nextTick((function(){e.innerUserCardShow=!1,e.userCardShowing(!1)}));case 5:case"end":return n.stop()}}),n,this)})));function e(){return n.apply(this,arguments)}return e}(),switch_account:function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.logout();case 2:this.userCardShowing(!0);case 3:case"end":return n.stop()}}),n,this)})));function e(){return n.apply(this,arguments)}return e}(),userCardShowing:function(n){var e=this,t=new Date;this.lastUpdateShow=t,setTimeout((function(){t===e.lastUpdateShow&&(n&&(e.innerUserCardShow=!0),e.userCardIsShowing=n,e.loginFormHasShow=!0)}),100)},hdlLogin:function(n){console.log("login status",n),n&&(this.innerUserCardShow=!1,this.userCardIsShowing=!1)},handleReg:function(n){this.$router.push({path:"/register/".concat(n?"user":"approve")})}}},a=o,c=(t("a6ce"),t("2877")),u=Object(c["a"])(a,r,s,!1,null,"94fcbd68",null);e["default"]=u.exports},c384:function(n,e,t){}}]);