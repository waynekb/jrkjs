(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c266e"],{"49c6":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e._v("1")])},a=[],i=(t("28a5"),{name:"BBSMessageBox",data:function(){return{message:null}},computed:{},watch:{"message.state":{handler:function(e){var s=this.$store.state.message.signalR;e===s.HubConnectionState.Connected&&this.OnConnected()}}},mounted:function(){this.init()},methods:{onDetail:function(e){},onMessage:function(e){var s=this,t=JSON.parse(e).split(":"),n={read:["已读"]};n.recv=["新消息",function(e){s.message.send("GetDetail",e,null)}];var a=n[t[0]];this.$notify.success("".concat(t[1],":").concat(a&&a[0])),a&&a[1]&&a[1](t[1])},init:function(){var e=this;this.message=this.$store.dispatch("message/registerWs",{path:"/ws/message"}).then((function(s){e.message=s,e.$store.dispatch("message/registerCallback",{connection:e.message,event:"new-app-message",handler:e.onMessage}),e.$store.dispatch("message/registerCallback",{connection:e.message,event:"getDetail",handler:e.onDetail})}))},OnConnected:function(){this.message.send("test","23")}}}),c=i,o=t("2877"),r=Object(o["a"])(c,n,a,!1,null,null,null);s["default"]=r.exports}}]);