(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a0a0e56"],{"4c94":function(t,e,s){},"6aed":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"problem",scopedSlots:t._u([{key:"header",fn:function(){return[s("div",{staticClass:"header"},[s("h3",[t._v(t._s(t.d.alias||"未命名的题库")+"(代号"+t._s(t.d.name||"未知")+")")]),t._v(" "),t.user_info&&t.user_info.score?s("span",{staticClass:"header-score"},[t._v(t._s(t.user_info.score.average)+"分")]):t._e(),t._v(" "),s("el-rate",{attrs:{value:t.d.star||5,disabled:"","show-score":"","text-color":"#cc8200","score-template":"{value}分"}})],1)]},proxy:!0}])},[t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("div",[t._v("共"+t._s(t.d.problems&&t.d.problems.length)+"题")]),t._v(" "),s("div",{staticClass:"problem-description"},[t._v(t._s(t.d.description||"无描述"))])]),t._v(" "),s("el-col",{attrs:{span:12}},[t.user_info?s("div",[s("div",[s("el-button",{attrs:{type:"text"},on:{click:t.onHistory}},[t._v("历史")]),t._v(" "),s("el-button",{staticClass:"btn-start",attrs:{type:"text"},on:{click:function(e){return t.onStart({is_manual:!0})}}},[t._v("开始答题")])],1),t._v(" "),t.user_info.score?s("el-form",[s("el-form-item",{attrs:{label:"均分"}},[s("el-progress",{staticClass:"normal-progress",attrs:{percentage:t.user_info.score.average||0,"text-inside":!0,"stroke-width":20}})],1),t._v(" "),s("el-form-item",[s("span",[t._v("满分:"+t._s(t.user_info.score.total||"无"))]),t._v(" "),s("span",[t._v("参加次数:"+t._s(t.user_info.score.total_time||"无"))]),t._v(" "),s("span",[t._v("最高分:"+t._s(t.user_info.score.max||"无"))]),t._v(" "),s("span",[t._v("最低分:"+t._s(t.user_info.score.min||"无"))])])],1):t._e()],1):s("div",[t._v("无信息")])])],1),t._v(" "),s("el-dialog",{attrs:{visible:t.showHistory,"append-to-body":""},on:{"update:visible":function(e){t.showHistory=e}}},[s("History",{attrs:{data:t.user_info&&t.user_info.history}})],1)],1)},n=[],o=(s("7f7f"),function(){return{history:[],score:{average:null,max:null,min:null,total:null,total_time:0}}}),r=s("05f3"),i={name:"DataBase",components:{History:function(){return s.e("chunk-2d22c808").then(s.bind(null,"f404"))}},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,user_info:null,showHistory:!1,pages:{pageIndex:0,pageSize:5}}},computed:{d:function(){var t=this.data;return t&&t.problems?t:{problems:[]}}},watch:{"data.name":{handler:function(t){this.onDataChanged(t)},immediate:!0}},methods:{onDataChanged:function(t){var e=this;this.loading=!0;var s=this.d.name;r["a"].user_database_detail({name:s}).then((function(t){t&&t.score||(t=o()),e.user_info=t})).finally((function(){e.loading=!1}))},onStart:function(t){var e=this.d;this.$emit("requireStart",{database:e,is_manual:t})},onHistory:function(){this.showHistory=!0}}},l=i,c=(s("a6b7"),s("ac22"),s("2877")),u=Object(c["a"])(l,a,n,!1,null,"3fa73e66",null);e["default"]=u.exports},"826d":function(t,e,s){},a6b7:function(t,e,s){"use strict";s("4c94")},ac22:function(t,e,s){"use strict";s("826d")}}]);